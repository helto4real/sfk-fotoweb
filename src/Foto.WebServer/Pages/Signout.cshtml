@page "/signout"
@using Microsoft.AspNetCore.Authentication
@using Microsoft.AspNetCore.Authentication.Cookies
@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthenticationStateProvider
@inject IHttpContextAccessor HttpContextAccessor
@functions {
    public async Task<IActionResult> OnGet()
    {
        var result = await Task.FromResult( Results.SignOut(
            properties: new AuthenticationProperties { RedirectUri = "/login" },
            authenticationSchemes: new[] { CookieAuthenticationDefaults.AuthenticationScheme }
            ).ExecuteAsync(HttpContextAccessor.HttpContext));
        
        return Redirect("/");
    }
}
